<div *ngIf="!isLoggedIn" class="login-container">
  <div class="login-box">
    <h1>âš¡ Kinetic</h1>
    <p>{{ authMode === 'login' ? 'Welcome Back' : 'Create Account' }}</p>

    <input type="text" placeholder="Username" [(ngModel)]="username">
    <input type="password" placeholder="Password" [(ngModel)]="password">

    <button (click)="authenticate()">
      {{ authMode === 'login' ? 'Login' : 'Sign Up' }}
    </button>

    <p class="switch-mode" (click)="toggleAuthMode()">
      {{ authMode === 'login' ? 'Need an account? Sign Up' : 'Have an account? Login' }}
    </p>
  </div>
</div>

<div *ngIf="isLoggedIn" class="main-container">
  
  <header>
    <h1>âš¡ Kinetic</h1>
    <button (click)="logout()" class="btn-logout">Logout</button>
  </header>

  <div class="input-section">
    <input type="text" placeholder="What needs doing?" [(ngModel)]="newTask">
    <select [(ngModel)]="selectedEnergy">
      <option value="Low">Low Energy</option>
      <option value="Medium">Medium Energy</option>
      <option value="High">High Energy</option>
    </select>
    <button (click)="addTask()">Add to Queue</button>
  </div>

  <div class="mood-section">
    <p>How do you feel right now?</p>
    <div class="mood-buttons">
      <button (click)="setMood('Tired')">ğŸ˜´ Low / Tired</button>
      <button (click)="setMood('Normal')">ğŸ˜ Normal</button>
      <button (click)="setMood('Energetic')">âš¡ High / Focused</button>
    </div>
  </div>

  <div class="task-list">
    <div *ngFor="let task of tasks" class="task-card">
      <span class="task-title">{{ task.title }}</span>
      
      <div class="action-buttons">
        <button class="btn-done" (click)="markDone(task._id)">Done âœ…</button>
        <button class="btn-delete" (click)="deleteTask(task._id)">Delete ğŸ—‘ï¸</button>
      </div>
    </div>
    
    <p *ngIf="tasks.length === 0" style="text-align: center; color: #888; margin-top: 2rem;">
      No tasks for this energy level. Relax! â˜•
    </p>
  </div>
</div>